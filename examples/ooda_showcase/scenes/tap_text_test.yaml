name: tap_text_test
description: Test tapping by visible text

setup:
  hot_restart: true
  navigate_to: /login

steps:
  - checkpoint: initial_view

  # Tap Email field by visible text instead of coordinates
  - tap_text: "Email"
  - wait: visual_stability

  - checkpoint: email_focused

  - input_text: "test@example.com"
  - wait: visual_stability

  # Tap Password field by visible text
  - tap_text: "Password"
  - wait: visual_stability

  - checkpoint: password_focused

  - input_text: "secret123"
  - wait: visual_stability

  # Tap the Login button by visible text (occurrence: 1 to select button, not title)
  - tap_text:
      text: "Login"
      occurrence: 1
  - wait: visual_stability

  - checkpoint: after_login

barriers:
  visual_stability:
    timeout_ms: 5000
    consecutive_matches: 2
